(window.webpackJsonp=window.webpackJsonp||[]).push([[588],{457:function(v,_,e){"use strict";e.r(_);var s=e(2),t=Object(s.a)({},function(){var v=this,_=v.$createElement,e=v._self._c||_;return e("ContentSlotsDistributor",{attrs:{"slot-key":v.$parent.slotKey}},[e("h1",{attrs:{id:"部署图及实现原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署图及实现原理","aria-hidden":"true"}},[v._v("#")]),v._v(" 部署图及实现原理")]),v._v(" "),e("h2",{attrs:{id:"部署图"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#部署图","aria-hidden":"true"}},[v._v("#")]),v._v(" 部署图")]),v._v(" "),e("p",[v._v("单点登录涉及 "),e("code",[v._v("sso")]),v._v(" 认证中心与众子系统，子系统与 "),e("code",[v._v("sso")]),v._v(" 认证中心需要通信以交换令牌、校验令牌及发起注销请求，因而子系统必须集成 "),e("code",[v._v("sso")]),v._v(" 的客户端，"),e("code",[v._v("sso")]),v._v(" 认证中心则是 "),e("code",[v._v("sso")]),v._v(" 服务端，整个单点登录过程实质是 "),e("code",[v._v("sso")]),v._v(" 客户端与服务端通信的过程，用下图描述")]),v._v(" "),e("p",[e("img",{attrs:{src:"/funtl/assets/Lusifer2018042722120010.png",alt:""}})]),v._v(" "),e("p",[e("code",[v._v("sso")]),v._v(" 认证中心与 "),e("code",[v._v("sso")]),v._v(" 客户端通信方式有多种，"),e("code",[v._v("HttpClient")]),v._v("，"),e("code",[v._v("WebService")]),v._v("、"),e("code",[v._v("rpc")]),v._v("、"),e("code",[v._v("restful api")]),v._v(" 都可以")]),v._v(" "),e("h2",{attrs:{id:"实现原理"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现原理","aria-hidden":"true"}},[v._v("#")]),v._v(" 实现原理")]),v._v(" "),e("h3",{attrs:{id:"sso-client"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sso-client","aria-hidden":"true"}},[v._v("#")]),v._v(" SSO Client")]),v._v(" "),e("ul",[e("li",[v._v("拦截子系统未登录用户请求，跳转至 "),e("code",[v._v("sso")]),v._v(" 认证中心")]),v._v(" "),e("li",[v._v("接收并存储 "),e("code",[v._v("sso")]),v._v(" 认证中心发送的令牌")]),v._v(" "),e("li",[v._v("与 "),e("code",[v._v("SSO Server")]),v._v(" 通信，校验令牌的有效性")]),v._v(" "),e("li",[v._v("建立局部会话")]),v._v(" "),e("li",[v._v("拦截用户注销请求，向 "),e("code",[v._v("sso")]),v._v(" 认证中心发送注销请求")]),v._v(" "),e("li",[v._v("接收 "),e("code",[v._v("sso")]),v._v(" 认证中心发出的注销请求，销毁局部会话")])]),v._v(" "),e("h3",{attrs:{id:"sso-server"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sso-server","aria-hidden":"true"}},[v._v("#")]),v._v(" SSO Server")]),v._v(" "),e("ul",[e("li",[v._v("验证用户的登录信息")]),v._v(" "),e("li",[v._v("创建全局会话")]),v._v(" "),e("li",[v._v("创建授权令牌")]),v._v(" "),e("li",[v._v("与 "),e("code",[v._v("SSO Client")]),v._v(" 通信发送令牌")]),v._v(" "),e("li",[v._v("校验 "),e("code",[v._v("SSO Client")]),v._v(" 令牌有效性")]),v._v(" "),e("li",[v._v("系统注册")]),v._v(" "),e("li",[v._v("接收 "),e("code",[v._v("SSO Client")]),v._v(" 注销请求，注销所有会话")])])])},[],!1,null,null,null);_.default=t.exports}}]);